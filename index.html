<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Loading...</title>

  <script type="text/javascript">
    // Determine the user's browser language, defaulting to 'en'.
    const userLang = navigator.language || navigator.userLanguage || 'en'; 

    // Define the target URL, defaulting to the English version.
    let targetUrl = '/en/';

    // If the browser language starts with 'de', change the target to the German version.
    // Using startsWith('de') covers 'de', 'de-DE', 'de-AT', etc.
    if (userLang.startsWith('de')) {
      targetUrl = '/de/';
    }

    // Use window.location.replace() to redirect.
    // This is better than window.location.href because it doesn't create 
    // an entry in the browser's history, so the user can't get stuck 
    // in a redirect loop by clicking the "back" button.
    window.location.replace(targetUrl);
  </script>

  <noscript>
    <meta http-equiv="refresh" content="0;url=/en/">
  </noscript>
</head>
<body>
  <p>Loading your preferred language...</p>
  <p>If you are not redirected, please choose your language:</p>
  <nav>
    <ul>
      <li><a href="/en/">English</a></li>
      <li><a href="/de/">Deutsch</a></li>
    </ul>
  </nav>
</body>
</html>
